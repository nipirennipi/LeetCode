# P8 字符串转换整数 (atoi)
@[toc]

题目链接：[8. 字符串转换整数 (atoi)](https://leetcode-cn.com/problems/string-to-integer-atoi/).

## 题目描述
请你来实现一个 atoi 函数，使其能将字符串转换成整数。

首先，该函数会根据需要丢弃无用的开头空格字符，直到寻找到第一个非空格的字符为止。接下来的转化规则如下：

- 如果第一个非空字符为正或者负号时，则将该符号与之后面尽可能多的连续数字字符组合起来，形成一个有符号整数。
- 假如第一个非空字符是数字，则直接将其与之后连续的数字字符组合起来，形成一个整数。
- 该字符串在有效的整数部分之后也可能会存在多余的字符，那么这些字符可以被忽略，它们对函数不应该造成影响。
- 注意：假如该字符串中的第一个非空格字符不是一个有效整数字符、字符串为空或字符串仅包含空白字符时，则你的函数不需要进行转换，即无法进行有效转换。
- 在任何情况下，若函数不能进行有效的转换时，请返回 0 。

**提示：**

- 本题中的空白字符只包括空格字符 ' ' 。
- 假设我们的环境只能存储 32 位大小的有符号整数，那么其数值范围为 $[−2^{31},  2^{31}−1]$。如果数值超过这个范围，请返回  INT_MAX ($2^{31}−1$) 或 INT_MIN ($−2^{31}$) 。

示例：
>输入: "42"
输出: 42

>输入: "   -42"
输出: -42
解释: 第一个非空白字符为 '-', 它是一个负号。我们尽可能将负号与后面所有连续出现的数字组合起来，最后得到 -42 。

>输入: "4193 with words"
输出: 4193
解释: 转换截止于数字 '3' ，因为它的下一个字符不为数字。

>输入: "words and 987"
输出: 0
解释: 第一个非空字符是 'w', 但它不是数字或正、负号。因此无法执行有效的转换。

>输入: "-91283472332"
输出: -2147483648
解释: 数字 "-91283472332" 超过 32 位有符号整数范围。 因此返回 INT_MIN (−231) 。

## 题解
### 方法一：
==**思路**==

按照题意，首先将字符串开头的无用空格字符丢弃，再检查第一个非空字符，进行如下处理
- ①若第一个非空字符不为以下字符: '+'、'-'、'0'~'9'，则直接返回 0。
- ②若第一个非空字符为 '+' 或 '-'，则可以确定整数的符号。
	* 若第二个非空字符不是 '0'~'9'，则直接返回0。
	* 若第二个非空字符是 '0'~'9'，则按照③来处理，只是在返回结果时，多增加一个符号判断
- ③若第一个非空字符为 '0'~'9'，可以确定整数符号为 '+'
	* 将连续的数字字符组合起来，直到遇到非数字字符或者组合的整数发生溢出为止

==**算法**==

```cpp
class Solution {
public:
	int myAtoi(string str) {
		int size=str.size();
		if(size==0){
			return 0;
		}
		int pos=0;
		while(str[pos]==' '&&pos<size){
			++pos;
		}
		if(str[pos]!='+'&&str[pos]!='-'&&!('0'<=str[pos]&&str[pos]<='9')){
			return 0;
		}
		bool sign=true;			//true代表'+'，false代表'-'
		if(str[pos]=='+'||str[pos]=='-'){
			sign=str[pos]=='+';
			++pos;
		}
		int ans=0;
		while(pos<size&&('0'<=str[pos]&&str[pos]<='9')){
			if(ans>INT_MAX/10){
				if(sign){
					return INT_MAX;
				}
				return INT_MIN;
			}
			if(ans==INT_MAX/10){
				if(sign&&(str[pos]-'0')>=7){
					return INT_MAX;
				}
				if(!sign&&(str[pos]-'0')>=8){
					return INT_MIN;
				}
			}
			ans=ans*10+(str[pos]-'0');
			++pos;
		}
		return sign?ans:-ans;
	}
};
```

==**复杂度分析**==

假设 $n$ 表示字符串的长度
- 时间复杂度：$O(n)$
- 空间复杂度：$O(1)$

### 方法二：自动机
==**思路**==

==**算法**==

==**复杂度分析**==

